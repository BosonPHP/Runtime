var U=e=>{throw TypeError(e)};var A=(e,t,r)=>t.has(e)||U("Cannot "+r);var i=(e,t,r)=>(A(e,t,"read from private field"),r?r.call(e):t.get(e)),o=(e,t,r)=>t.has(e)?U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),w=(e,t,r,s)=>(A(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),n=(e,t,r)=>(A(e,t,"access private method"),r);var F,B;class C{constructor(){o(this,F)}generate(t=16){return Array.from(this.generateByteArray(t)).map(n(this,F,B)).join("")}}F=new WeakSet,B=function(t){return t.toString(16).padStart(2,"0")};var u,G,H;const g=class g extends C{constructor(r=null){var s;super();o(this,u);w(this,u,r||n(s=g,G,H).call(s))}generateByteArray(r){return i(this,u).getRandomValues(new Uint8Array(r))}};u=new WeakMap,G=new WeakSet,H=function(){return window.crypto||window.msCrypto||window.msrCrypto||function(){throw new Error("Could not load client cryptographic library")}()},o(g,G);let S=g;var a,d,h,c,j,N;class J{constructor(t,r){o(this,c);o(this,a,{});o(this,d);o(this,h);w(this,h,t),w(this,d,r)}resolve(t,r){var s;r instanceof Promise?r.then(l=>this.resolve(t,l)).catch(l=>this.reject(t,l)):(s=n(this,c,j).call(this,t))==null||s.resolve(r)}reject(t,r){var s;(s=n(this,c,j).call(this,t))==null||s.reject(r)}call(t,r){const s=i(this,d).generate(),l=n(this,c,N).call(this,s);return i(this,h).send(JSON.stringify({id:s,method:t,params:r})),l}}a=new WeakMap,d=new WeakMap,h=new WeakMap,c=new WeakSet,j=function(t){const r=i(this,a)[t]??null;try{return r}finally{r!==null&&delete i(this,a)[t]}},N=function(t){return new Promise((r,s)=>i(this,a)[t]={resolve:r,reject:s})};var p;class D{constructor(t){o(this,p);w(this,p,t??function(){throw new Error("Unsupported transport")}())}send(t){i(this,p).call(this,t)}}p=new WeakMap;var b,v;const E=class E extends D{static createFromGlobals(){return new E(n(this,b,v).call(this))}static isSupported(){return n(this,b,v).call(this)!==null}};b=new WeakSet,v=function(){var t,r;return(r=(t=window.chrome)==null?void 0:t.webview)==null?void 0:r.postMessage},o(E,b);let y=E;var m,L;const x=class x extends D{static createFromGlobals(){return new x(n(this,m,L).call(this))}static isSupported(){return n(this,m,L).call(this)!==null}};m=new WeakSet,L=function(){var t,r;return(r=(t=window.saucer)==null?void 0:t.internal)==null?void 0:r.send_message},o(x,m);let f=x;class O{static createFromGlobals(){if(y.isSupported())return y.createFromGlobals();if(f.isSupported())return f.createFromGlobals();throw new Error("Can not select suitable transport")}}const R=new S,T=O.createFromGlobals(),P=new J(T,R);window.boson=window.boson||{};window.boson.io=T;window.boson.ids=R;window.boson.rpc=P;window.boson.components={instances:{}};
