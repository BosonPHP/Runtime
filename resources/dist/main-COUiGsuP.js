var j=e=>{throw TypeError(e)};var x=(e,t,r)=>t.has(e)||j("Cannot "+r);var i=(e,t,r)=>(x(e,t,"read from private field"),r?r.call(e):t.get(e)),o=(e,t,r)=>t.has(e)?j("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),l=(e,t,r,s)=>(x(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),n=(e,t,r)=>(x(e,t,"access private method"),r);var f,v;class T{constructor(){o(this,f)}generate(t=16){return Array.from(this.generateByteArray(t)).map(n(this,f,v)).join("")}}f=new WeakSet,v=function(t){return t.toString(16).padStart(2,"0")};var u,F,B;const G=class G extends T{constructor(r=null){var s;super();o(this,u);l(this,u,r||n(s=G,F,B).call(s))}generateByteArray(r){return i(this,u).getRandomValues(new Uint8Array(r))}};u=new WeakMap,F=new WeakSet,B=function(){return window.crypto||window.msCrypto||window.msrCrypto||function(){throw new Error("Could not load client cryptographic library")}()},o(G,F);let A=G;var a,w,d,c,S,H;class C{constructor(t,r=new A){o(this,c);o(this,a,{});o(this,w);o(this,d);l(this,d,t),l(this,w,r)}resolve(t,r){var s;(s=n(this,c,S).call(this,t))==null||s.resolve(r)}reject(t,r){var s;(s=n(this,c,S).call(this,t))==null||s.reject(r)}call(t,r){const s=i(this,w).generate(),R=n(this,c,H).call(this,s);return i(this,d).send(JSON.stringify({id:s,method:t,params:r})),R}}a=new WeakMap,w=new WeakMap,d=new WeakMap,c=new WeakSet,S=function(t){const r=i(this,a)[t]??null;try{return r}finally{r!==null&&delete i(this,a)[t]}},H=function(t){return new Promise((r,s)=>i(this,a)[t]={resolve:r,reject:s})};var h;class N{constructor(t){o(this,h);l(this,h,t??function(){throw new Error("Unsupported transport")}())}send(t){i(this,h).call(this,t)}}h=new WeakMap;var p,L;const g=class g extends N{static createFromGlobals(){return new g(n(this,p,L).call(this))}static isSupported(){return n(this,p,L).call(this)!==null}};p=new WeakSet,L=function(){var t,r;return(r=(t=window.chrome)==null?void 0:t.webview)==null?void 0:r.postMessage},o(g,p);let m=g;var b,U;const E=class E extends N{static createFromGlobals(){return new E(n(this,b,U).call(this))}static isSupported(){return n(this,b,U).call(this)!==null}};b=new WeakSet,U=function(){var t,r;return(r=(t=window.saucer)==null?void 0:t.internal)==null?void 0:r.send_message},o(E,b);let y=E;class J{static createFromGlobals(){if(m.isSupported())return m.createFromGlobals();if(y.isSupported())return y.createFromGlobals();throw new Error("Can not select suitable transport")}}const D=J.createFromGlobals(),O=new C(D);window.boson=window.boson||{};window.boson.io=D;window.boson.rpc=O;
