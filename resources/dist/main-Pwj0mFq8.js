var H=r=>{throw TypeError(r)};var A=(r,t,e)=>t.has(r)||H("Cannot "+e);var o=(r,t,e)=>(A(r,t,"read from private field"),e?e.call(r):t.get(r)),n=(r,t,e)=>t.has(r)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),w=(r,t,e,s)=>(A(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e),i=(r,t,e)=>(A(r,t,"access private method"),e);var a;class D{constructor(){n(this,a,{})}get(t){let e=o(this,a)[t];if(e instanceof WeakRef){let s=e.deref();if(s instanceof HTMLElement)return s;delete o(this,a)[t]}}detach(t){o(this,a)[t]&&delete o(this,a)[t]}attach(t,e){o(this,a)[t]&&o(this,a)[t].deref()===e||(o(this,a)[t]=new WeakRef(e))}}a=new WeakMap;const N=16;var E,I;class P{constructor(){n(this,E)}generate(t=N){return Array.from(this.generateByteArray(t)).map(i(this,E,I)).join("")}}E=new WeakSet,I=function(t){return t.toString(16).padStart(2,"0")};var u,d,B;const x=class x extends P{constructor(e){super();n(this,u);w(this,u,e||function(){throw new Error("Could not load client cryptographic library")}())}static createFromGlobals(){return new x(i(this,d,B).call(this))}static isSupported(){return!!i(this,d,B).call(this)}generateByteArray(e){return o(this,u).getRandomValues(new Uint8Array(e))}};u=new WeakMap,d=new WeakSet,B=function(){return window.crypto||window.msCrypto||window.msrCrypto||void 0},n(x,d);let G=x;class J{static createFromGlobals(){if(G.isSupported())return G.createFromGlobals();throw new Error("Can not select suitable ID generator")}}var l,p,f,c,j,L;class O{constructor(t,e){n(this,c);n(this,l,{});n(this,p);n(this,f);w(this,f,t),w(this,p,e)}resolve(t,e){var s;e instanceof Promise?e.then(h=>this.resolve(t,h)).catch(h=>this.reject(t,h)):(s=i(this,c,j).call(this,t))==null||s.resolve(e)}reject(t,e){var s;(s=i(this,c,j).call(this,t))==null||s.reject(e)}call(t,e){const s=o(this,p).generate(),h=i(this,c,L).call(this,s);return o(this,f).send(JSON.stringify({id:s,method:t,params:e})),h}}l=new WeakMap,p=new WeakMap,f=new WeakMap,c=new WeakSet,j=function(t){const e=o(this,l)[t]??null;try{return e}finally{e!==null&&delete o(this,l)[t]}},L=function(t){return new Promise((e,s)=>o(this,l)[t]={resolve:e,reject:s})};var b;class U{constructor(t){n(this,b);w(this,b,t??function(){throw new Error("Unsupported transport")}())}send(t){o(this,b).call(this,t)}}b=new WeakMap;var m,R;const S=class S extends U{static createFromGlobals(){return new S(i(this,m,R).call(this))}static isSupported(){return!!i(this,m,R).call(this)}};m=new WeakSet,R=function(){var t,e;return(e=(t=window.chrome)==null?void 0:t.webview)==null?void 0:e.postMessage},n(S,m);let F=S;var y,C;const v=class v extends U{static createFromGlobals(){return new v(i(this,y,C).call(this))}static isSupported(){return!!i(this,y,C).call(this)}};y=new WeakSet,C=function(){var t,e;return(e=(t=window.saucer)==null?void 0:t.internal)==null?void 0:e.send_message},n(v,y);let g=v;class T{static createFromGlobals(){if(F.isSupported())return F.createFromGlobals();if(g.isSupported())return g.createFromGlobals();throw new Error("Can not select suitable IPC transport")}}const W=J.createFromGlobals(),k=T.createFromGlobals(),V=new O(k,W);window.boson=window.boson||{};window.boson.io=k;window.boson.ids=W;window.boson.rpc=V;window.boson.components={instances:new D};
